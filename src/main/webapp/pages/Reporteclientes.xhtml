<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="./../WEB-INF/template/Template.xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="content">
        <div class="row">

            <div class="control-group">
                <!-- Username -->
                <div class="form-group">
                    <label class="col-md-12 control-label" >#{label['ruta']}: #{label['ruta.Reporteclientes']}</label>
                </div>
            </div>
        </div>
        <h:form>

            <ul>
                <li>Para ver un cliente en detalle de click en el bot&oacute;n <span class="ui-icon ui-icon-circle-triangle-e" style="display:inline-block;"></span>.</li>
                <li>Para crear una b&uacute;squeda avanzada de click en el bot&oacute;n <span class="ui-icon ui-icon-search" style="display:inline-block;"></span>.</li>
            </ul>
            <div class="col-md-12 ">
                <!--Clientes-->
                <c:if test="#{sessionBean.perfilViewMatch(&quot;Reportes&quot;)}">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <div class="clickable">
                                <h3 class="panel-title">Busqueda avanzada</h3>

                                <span class="pull-right "><i class="fa fa-minus"></i></span>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="row clearfix">
                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <h:outputLabel class="col-md-6 control-label" value="Pais:" />
                                    <h:inputText class="col-md-6" value="#{reportesClientesBean.pais}" />
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <h:outputLabel class="col-md-6 control-label" value="Ciudad:" />
                                    <h:inputText class="col-md-6" value="#{reportesClientesBean.ciudad}" />
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <h:outputLabel class="col-md-6 control-label" value="Mes de cumplea&ntilde;o:" />
                                    <p:selectOneMenu id="mes" value="#{reportesClientesBean.mes}" >
                                        <f:selectItem itemLabel="Mes" itemValue="12" />  
                                        <f:selectItem itemLabel="Enero" itemValue="0" />    
                                        <f:selectItem itemLabel="Febrero" itemValue="1" />    
                                        <f:selectItem itemLabel="Marzo" itemValue="2" />    
                                        <f:selectItem itemLabel="Abril" itemValue="3" />    
                                        <f:selectItem itemLabel="Mayo" itemValue="4" />    
                                        <f:selectItem itemLabel="Junio" itemValue="5" />    
                                        <f:selectItem itemLabel="Julio" itemValue="6" />    
                                        <f:selectItem itemLabel="Agosto" itemValue="7" />    
                                        <f:selectItem itemLabel="Septiembre" itemValue="8" />    
                                        <f:selectItem itemLabel="Octubre" itemValue="9" />    
                                        <f:selectItem itemLabel="Noviembre" itemValue="10" />    
                                        <f:selectItem itemLabel="Diciembre" itemValue="11" />  
                                    </p:selectOneMenu>
                                </div>
                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3">
                                    <h:outputLabel class="col-md-6 control-label" value="Dia de cumplea&ntilde;o:" /> 
                                    <p:selectOneMenu id="dia" value="#{reportesClientesBean.dia}" >
                                        <f:selectItem itemLabel="D&iacute;a" itemValue="0" />  
                                        <f:selectItem itemLabel="1" itemValue="1" />  
                                        <f:selectItem itemLabel="2" itemValue="2" />  
                                        <f:selectItem itemLabel="3" itemValue="3" />  
                                        <f:selectItem itemLabel="4" itemValue="4" />  
                                        <f:selectItem itemLabel="5" itemValue="5" />  
                                        <f:selectItem itemLabel="6" itemValue="6" />  
                                        <f:selectItem itemLabel="7" itemValue="7" />  
                                        <f:selectItem itemLabel="8" itemValue="8" />  
                                        <f:selectItem itemLabel="9" itemValue="9" />  
                                        <f:selectItem itemLabel="10" itemValue="10" />  
                                        <f:selectItem itemLabel="11" itemValue="11" />  
                                        <f:selectItem itemLabel="12" itemValue="12" />  
                                        <f:selectItem itemLabel="13" itemValue="13" />  
                                        <f:selectItem itemLabel="14" itemValue="14" />  
                                        <f:selectItem itemLabel="15" itemValue="15" />  
                                        <f:selectItem itemLabel="16" itemValue="16" />  
                                        <f:selectItem itemLabel="17" itemValue="17" />  
                                        <f:selectItem itemLabel="18" itemValue="18" />  
                                        <f:selectItem itemLabel="19" itemValue="19" />  
                                        <f:selectItem itemLabel="20" itemValue="20" />  
                                        <f:selectItem itemLabel="21" itemValue="21" />  
                                        <f:selectItem itemLabel="22" itemValue="22" />  
                                        <f:selectItem itemLabel="23" itemValue="23" />  
                                        <f:selectItem itemLabel="24" itemValue="24" />  
                                        <f:selectItem itemLabel="25" itemValue="25" />  
                                        <f:selectItem itemLabel="26" itemValue="26" />  
                                        <f:selectItem itemLabel="27" itemValue="27" />  
                                        <f:selectItem itemLabel="28" itemValue="28" />  
                                        <f:selectItem itemLabel="29" itemValue="29" />  
                                        <f:selectItem itemLabel="30" itemValue="30" />  
                                        <f:selectItem itemLabel="31" itemValue="31" />  
                                    </p:selectOneMenu>
                                </div>
                                <div id="clientes" class="row clearfix">
                                    <div class="form-group col-md-12">
                                        <div class="col-md-4">
                                            <div class="panel panel-primary">

                                                <div class="panel-heading">
                                                    #{label['categorias']}
                                                </div>
                                                <div class="panel-body">
                                                    <ul id="categoriaslist">
                                                        <li>
                                                            <h:selectBooleanCheckbox value="#{reportesClientesBean.todosCat}" onclick="toggle('categoriaslist')">
                                                            </h:selectBooleanCheckbox>
                                                            <label>Todos</label>
                                                        </li>

                                                        <c:forEach var="itemcat" items="#{reportesClientesBean.categoriaBooleans}">
                                                            <li>
                                                                <h:selectBooleanCheckbox value="#{itemcat.selected}" onclick="deselecttodo('categoriaslist')"/>&nbsp;
                                                                <label>#{itemcat.categoria.nombre}</label>
                                                            </li>
                                                        </c:forEach>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="panel panel-primary">

                                                <div class="panel-heading">
                                                    #{label['casinos']}
                                                </div>
                                                <div class="panel-body">
                                                    <ul id="casinosList">
                                                        <li>
                                                            <h:selectBooleanCheckbox value="#{reportesClientesBean.todoscasinos}" onclick="toggle('casinosList')">
                                                            </h:selectBooleanCheckbox>
                                                            <label>Todos</label>
                                                        </li>

                                                        <c:forEach var="itemcas" items="#{reportesClientesBean.casinoBooleans}">
                                                            <li>
                                                                <h:selectBooleanCheckbox value="#{itemcas.selected}" onclick="deselecttodo('casinosList')"/>&nbsp;
                                                                <label>#{itemcas.casino.nombre}</label>
                                                            </li>
                                                        </c:forEach>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="panel panel-primary">

                                                <div class="panel-heading">#{label['tipojuegos']}</div>
                                                <div class="panel-body">
                                                    <ul id="tipojuegosList">
                                                        <li>
                                                            <h:selectBooleanCheckbox value="#{reportesClientesBean.todostip}" onclick="toggle('tipojuegosList')">
                                                            </h:selectBooleanCheckbox>
                                                            <label>Todos</label>
                                                        </li>
                                                        <c:forEach var="itemtip" items="#{reportesClientesBean.juegoBooleans}">
                                                            <li>
                                                                <h:selectBooleanCheckbox value="#{itemtip.selected}" onclick="deselecttodo('tipojuegosList')"/>&nbsp;
                                                                <label >#{itemtip.tipoJuego.nombre}</label>
                                                            </li>
                                                        </c:forEach>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                    <p:commandButton id="addButton" icon="ui-icon-search" value="#{label['lb_btn.Buscar']}"
                                                     title="#{label['lb_btn.Go']}" action="#{reportesClientesBean.busquedaAvanzada()}"
                                                     update="@form" onstart="PF('ajaxWaitingDialog').show();" oncomplete="PF('ajaxWaitingDialog').hide();">
                                    </p:commandButton> 
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 id="cantClientes" class="panel-title">Clientes en base de datos: #{reportesClientesBean.totales}, Cantidad de Clientes filtrados: #{reportesClientesBean.lista.size()}</h3>
                        </div>
                        <div class="panel-body">



                            <p:dataTable id="detailsTableClientes" var="element" value="#{reportesClientesBean.lista}"  
                                         emptyMessage="#{label['lb_table.noelementos']}" widgetVar="detailsTableClientes" rows="#{sessionBean.paginacion}"
                                         paginator="true"
                                         paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowIndexVar="index" rowsPerPageTemplate="5,10,15, 20, 25, 30">
                                <p:column headerText="Fila #">
                                    #{index + 1}
                                </p:column>

                                <p:column style="width:5%">
                                    <p:commandButton id="editButtonCasinos" update=":#{p:component('clientedetalle')}" 
                                                     oncomplete="PF('clientedetalle').show();PF('ajaxWaitingDialog').hide();" icon="ui-icon-search" onstart="PF('ajaxWaitingDialog').show();"
                                                     title="#{label['lb_btn.editar']}" >  
                                        <f:setPropertyActionListener value="#{element}" target="#{reportesClientesBean.elemento}" />  
                                    </p:commandButton>
                                </p:column>

                                <p:column headerText="Identificaci&oacute;n" sortBy="#{element.identificacion}" filterBy="#{element.identificacion}" filterMatchMode="contains" >
                                    <h:outputText value="#{element.identificacion}" />
                                </p:column>
                                <p:column headerText="Tipo de identificaci&oacute;n" sortBy="#{element.idTipoDocumento}" filterBy="#{element.idTipoDocumento}" filterMatchMode="in" >
                                    <f:facet name="filter">
                                        <p:selectCheckboxMenu label="Tipo" onchange="PF('detailsTableClientes').filter()" >
                                            <f:selectItems value="#{filtrosListas.tipoident}" />
                                        </p:selectCheckboxMenu>
                                    </f:facet>
                                    <h:outputText value="#{element.idTipoDocumento}" />
                                </p:column>

                                <p:column headerText="Nombres" sortBy="#{element.nombres}" filterBy="#{element.nombres}" filterMatchMode="contains" >
                                    <h:outputText value="#{element.nombres}" />
                                </p:column>

                                <p:column headerText="Apellidos" sortBy="#{element.apellidos}" filterBy="#{element.apellidos}" filterMatchMode="contains" >
                                    <h:outputText value="#{element.apellidos}" />
                                </p:column>

                                <p:column headerText="Categoria" sortBy="#{element.idCategorias}" >
                                    <h:outputText value="#{element.idCategorias}" />
                                </p:column>
                                <p:column headerText="#{label['acciones']}" filterBy="#{element.nombres}" filterMatchMode="contains" filterStyle="display:none">
                                    <p:commandButton id="editButtonClientes" action="#{reportesClientesBean.goCliente(element.idCliente)}" icon="ui-icon-pencil" 
                                                     title="#{label['lb_btn.editar']}" onstart="PF('ajaxWaitingDialog').show();" 
                                                     rendered="#{sessionBean.perfilFormMatch(&quot;Clientes&quot;, &quot;actualizar&quot;)}"/>    
                                    <p:commandButton id="deleteButton" oncomplete="PF('deleteDialogClientes').show();PF('ajaxWaitingDialog').hide();" onstart="PF('ajaxWaitingDialog').show();"
                                                     icon="ui-icon-trash" title="#{label['lb_btn.borrar']}"  update=":#{p:component('deleteDialogClientes')}"
                                                     rendered="#{sessionBean.perfilFormMatch(&quot;Clientes&quot;, &quot;eliminar&quot;)}">
                                        <f:setPropertyActionListener value="#{element}" target="#{reportesClientesBean.elemento}" /> 
                                    </p:commandButton> 

                                </p:column>

                                <f:facet name="footer"> 
                                    <p:commandButton id="addButton" action="#{reportesClientesBean.goCliente(0)}" onstart="PF('ajaxWaitingDialog').show();" 
                                                     value="#{label['lb_btn.agregar']}" icon="ui-icon-plusthick" title="#{label['lb_btn.agregar']}" 
                                                     rendered="#{sessionBean.perfilFormMatch(&quot;Clientes&quot;, &quot;crear&quot;)}"/>   
                                </f:facet>



                            </p:dataTable>

                        </div>
                    </div>
                </c:if>
            </div>

        </h:form>

        <h:form>
            <p:dialog id="clientedetalle" header="Perfil de cliente" widgetVar="clientedetalle" modal="true" resizable="true" width="95%">
                <div class="panel panel-primary">

                    <div class="panel-body"><div class="row clearfix">

                            <div class="text-right">
                                <p:commandButton id="mail" oncomplete="PF('enviarMail').show();PF('ajaxWaitingDialog').hide();" onstart="PF('ajaxWaitingDialog').show();"
                                                 icon="ui-icon-mail-closed" title="mail"  update=":#{p:component('enviarMail')}"
                                                 rendered="#{sessionBean.perfilViewMatch(&quot;Mailcliente&quot;)}">
                                </p:commandButton> 
                            </div>


                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Identificaci&oacute;:" />
                                <h:outputText value="#{reportesClientesBean.elemento.identificacion}" />
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Tipo de documento:" />
                                <h:outputText value="#{reportesClientesBean.elemento.idTipoDocumento}" />
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Nombres:" />
                                <h:outputText value="#{reportesClientesBean.elemento.nombres}" />
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Apellidos:" />
                                <h:outputText value="#{reportesClientesBean.elemento.apellidos}" />
                            </div>


                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Categoria:" />
                                <h:outputText value="#{reportesClientesBean.elemento.idCategorias}" />
                            </div>






                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Telefono 1:" />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.telefono1}" />
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Telefono 2:" />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.telefono2}" />
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Correo:" />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.correo}" />
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Cumplea&ntilde;os:" />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.cumpleanos}" >
                                    <f:convertDateTime pattern="dd/MMMMM" locale="es" />
                                </h:outputText>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Casino:" />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.idCasinoPreferencial}" />
                            </div>


                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Pais:" />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.pais}" />
                            </div>


                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Ciudad:" />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.ciudad}" />
                            </div>


                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Cupo de fidelizaci&oacute;n: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.bonoFidelizacion}" >
                                    <f:convertNumber maxIntegerDigits="10" maxFractionDigits="1" pattern="#########0.0"/></h:outputText>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Ocupacion: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.ocupacion}" >\
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Monto aprox. jugado por visita:" />
                                <div class="col-md-8">
                                    <h:outputText value="#{reportesClientesBean.elemento.montodejuegovisita}"  >
                                    <f:convertNumber maxIntegerDigits="10" maxFractionDigits="1" pattern="############0.0"/></h:outputText>
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="M&aacute;quina/juego preferida(o): " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.maquinapreferida}" >\
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Horario habitual de visita: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.horaHabitualVisita}" >
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="D&iacute;a habitual de visita: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.diaSemanaVisita}" >
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Acompa&ntilde;ante habitual: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.acompananteHabitual}" >
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Descripci&oacute;n de personalidad: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.descripcionPersonalidad}" >
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Gustos y preferencias: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.gustosPreferencias}" >
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Bebida preferida: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.bebida}" >
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Comida preferida: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.comida}" >
                                </h:outputText>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-4">
                                <h:outputLabel class="col-md-6 control-label" value="Fuma?: " />
                                <h:outputText class="col-md-6" value="#{reportesClientesBean.elemento.fuma}" >
                                </h:outputText>
                            </div>

                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <h:outputLabel class="col-md-12 control-label" value="Preferencias de Juego:" />
                                <div class='row'>
                                    <p:dataList value="#{reportesClientesBean.elemento.tipojuegoList}" var="tipo" emptyMessage="No tiene juegos favoritos" >
                                        #{tipo.nombre}
                                    </p:dataList>
                                </div>
                            </div>



                        </div>
                    </div>
                    <div class="panel-footer text-right"> 
                    </div>
                </div>
            </p:dialog> 
        </h:form>
        <h:form>
            <p:confirmDialog id="deleteDialogClientes" message="#{label['quiereborrarel']} #{label['cliente']} #{reportesClientesBean.elemento.nombres} #{reportesClientesBean.elemento.apellidos}#{label['cierrepregunta']}"  
                             header="Borrar" severity="alert" widgetVar="deleteDialogClientes" closable="false">  

                <p:commandButton id="confirm" value="#{label['aceptar']}" oncomplete="PF('ajaxWaitingDialog').hide();PF('deleteDialogClientes').hide();" onstart="PF('ajaxWaitingDialog').show();"
                                 action="#{reportesClientesBean.delete()}" update=":#{p:component('detailsTableClientes')} :#{p:component('messages')}"/>  
                <p:commandButton id="decline" value="#{label['cancelar']}" onclick="PF('deleteDialogClientes').hide()" type="button" />   

            </p:confirmDialog> 
        </h:form>
        <h:form>
            <p:dialog id="enviarMail" header="Enviar datos de #{reportesClientesBean.elemento.nombres} #{reportesClientesBean.elemento.apellidos} a:" widgetVar="enviarMail" modal="true" resizable="false">  
                <div class="panel panel-primary">

                    <div class="panel-body">
                        <fieldset>
                            <div class="row">


                                <div class="form-group col-md-12">
                                    <label class="col-md-2 control-label" >#{label['correo']}:</label>
                                    <div class="col-md-6">
                                        <p:inputText style="width: 100%;" id="correo" value="#{reportesClientesBean.email}" 
                                                     validatorMessage="#{label['msj.invalid.correo']}">
                                            <f:validateRegex
                                                pattern="^([_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$)$" />
                                        </p:inputText>
                                    </div>
                                </div>

                            </div>

                        </fieldset>
                    </div>
                    <div class="panel-footer text-right"> 
                        <p:commandButton value="Confirmar" action="#{reportesClientesBean.enviarMail()}" 
                                         oncomplete="PF('ajaxWaitingDialog').hide();PF('enviarMail').hide();" onstart="PF('ajaxWaitingDialog').show();" icon="ui-icon-check"
                                         update=":#{p:component('detailsTableClientes')} :#{p:component('messages')}" style="margin:0"/>    
                    </div>
                </div>
            </p:dialog>
        </h:form>>
    </ui:define>            
</ui:composition>