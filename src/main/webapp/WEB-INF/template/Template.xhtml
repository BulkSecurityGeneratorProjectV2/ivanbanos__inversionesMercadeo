<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />


        <h:outputStylesheet library="css" name="default.css" />
        <h:outputStylesheet library="css" name="bootstrap.min.css" />
        <h:outputStylesheet library="font-awesome/css" name="font-awesome.css" />
        <h:outputStylesheet library="css/blitzer" name="jquery-ui-1.10.3.custom.css" />
        <h:outputScript library="js" name="bootstrap.min.js"/>
        <h:outputScript library="js" name="toggeablePanelScript.js"/>
        <h:outputScript library="js" name="tableFilter.js"/>
        <h:outputScript library="js" name="localees.js"/>
        <h:outputScript library="js" name="selectAllcheckboxes.js"/>
        <h:outputScript library="js" name="changeValuehasta.js"/>
        <h:outputScript library="js" name="timerCounter.js"/>
        <h:outputScript library="js" name="CerrarSessionPage.js"/>
        <h:outputScript library="js" name="semaforostyle.js"/>

        <f:loadBundle var="label" basename="labels" />
        <f:loadBundle var="msg" basename="messages" />
        <title>#{label['title.app']}</title>
    </h:head>

    <h:body>
        <h:form>
            #{sessionBean.checkUsuarioConectado()}
            <nav class="navbar navbar-primary navbar-static-top navbar-background" role="navigation">
                <div class="container-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header col-md-12 col-lg-12">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="fa fa-bars"></span>
                        </button>
                        <div class="col-lg-8">
                            <h1 class="titulo">#{label['title.app']}</h1>
                        </div>
                        <div class="col-lg-4">
                            <ul class="nav navbar-nav navbar-right">
                                <div class="navbar-form navbar-right">

                                    <div class="form-group">
                                        <p class="navbar-text">Hola! #{sessionBean.usuario.nombreUsuario}</p>
                                    </div>
                                    <h:commandLink id="btnsearch"
                                                   action="#{sessionBean.Desconectar()}"
                                                   styleClass="btn btn-primary">
                                        #{label['salir']}
                                    </h:commandLink>
                                </div> 
                            </ul>
                        </div>

                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-left">
                            <li >
                                <h:commandLink  action="#{sessionBean.go(&quot;inicio&quot;)}" class="#{sessionBean.isActive(&quot;inicio&quot;)}" value="#{label['inicio']}" />
                            </li>

                            <c:if test="#{sessionBean.perfilViewMatch(&quot;acceso&quot;) 
                                          or sessionBean.perfilViewMatch(&quot;Cargo&quot;) 
                                          or sessionBean.perfilViewMatch(&quot;Perfiles&quot;) 
                                          or sessionBean.perfilViewMatch(&quot;Usuarios&quot;) 
                                          or sessionBean.perfilViewMatch(&quot;Casinos&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Acciones&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Categorias&quot;)
                                          or sessionBean.perfilViewMatch(&quot;TipoJuego&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Atributos&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Tipotareas&quot;)
                                          or sessionBean.perfilViewMatch(&quot;tipodocumento&quot;)
                                          or sessionBean.perfilViewMatch(&quot;ConfiguracionesGenerales&quot;)
                                          or sessionBean.perfilViewMatch(&quot;logs&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Propositos&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Areas&quot;)
                                          or sessionBean.perfilViewMatch(&quot;denominaciones&quot;)
                                          or sessionBean.perfilViewMatch(&quot;TipoBono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;cambioEstadoBono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;veripregistradas&quot;)}">
                                <li class="dropdown ">
                                    <a href="#" class="dropdown-toggle #{sessionBean.isActive(&quot;configuracion&quot;)}" data-toggle="dropdown">Configuraci&oacute;n<span class="caret"></span></a>
                                    <ul class="dropdown-menu" role="menu">
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;Usuarios&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;Perfiles&quot;)}">
                                            <li >
                                                <h:commandLink   action="#{sessionBean.go(&quot;AtributosSistema&quot;)}" value="Usuarios"/>
                                            </li>
                                        </c:if>
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;Casinos&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;Acciones&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;Categorias&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;TipoJuego&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;Atributos&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;Tipotareas&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;tipodocumento&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;AtributosMarketing&quot;)}" value="#{label['atributosmarketing']}"/>
                                            </li>
                                        </c:if>
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;ConfiguracionesGenerales&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;ConfiguracionesGenerales&quot;)}" value="#{label['configuraciones']}"/>
                                            </li>
                                        </c:if>

                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;logs&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;logs&quot;)}" value="#{label['logs']}"/>
                                            </li>
                                        </c:if>

                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;cambioEstadoBono&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;cambioEstadoBono&quot;)}" value="Cambio en bono"/>
                                            </li>
                                        </c:if>

                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;Propositos&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;Areas&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;denominaciones&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;TipoBono&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;atributosbonos&quot;)}"  value="#{label['atributosbono']}"/>

                                            </li>
                                        </c:if>

                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;veripregistradas&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;veripregistradas&quot;)}" value="Ip/Usuarios registrados"/>
                                            </li>
                                        </c:if>

                                    </ul>
                                </li>
                            </c:if>


                            <c:if test="#{sessionBean.perfilViewMatch(&quot;Clientes&quot;) 
                                          or sessionBean.perfilViewMatch(&quot;Eventos&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Tareas&quot;)
                                          or sessionBean.perfilViewMatch(&quot;ManejadorEventosHostess&quot;)
                                          or sessionBean.perfilViewMatch(&quot;notificaciones&quot;)
                                          or sessionBean.perfilViewMatch(&quot;SolicitudCambioCupo&quot;)}">
                                <li class="dropdown ">
                                    <a href="#" class="dropdown-toggle #{sessionBean.isActive(&quot;clientes&quot;)}" data-toggle="dropdown">Gesti&oacute;n de Clientes<span class="caret"></span></a>
                                    <ul class="dropdown-menu" role="menu">
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;Clientes&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;clientes&quot;)}" value="#{label['clientes']}"/>
                                            </li>
                                        </c:if>


                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;Eventos&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;eventos&quot;)}" value="#{label['eventos']}"/>
                                            </li>
                                        </c:if>

                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;Tareas&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;tareas&quot;)}" value="#{label['tareas']}"/>
                                            </li>
                                        </c:if>

                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;ManejadorEventosHostess&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;eventoshostess&quot;)}" value="#{label['manejadortareas']}"/>
                                            </li>
                                        </c:if>


                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;notificaciones&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;notificaciones&quot;)}"  value="Cambios en datos de clientes"/>
                                            </li> 
                                        </c:if>
                                    </ul>
                                </li>
                            </c:if>


                            <c:if test="#{sessionBean.perfilViewMatch(&quot;SolicitudLotes&quot;)
                                          or sessionBean.perfilViewMatch(&quot;AprobarSolicitudBono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;PreAprobarSolicitudBono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;GenerarSolicitudBono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Controlsalidabonos&quot;)
                                          or sessionBean.perfilViewMatch(&quot;ActSolicitudSalida&quot;)
                                          or sessionBean.perfilViewMatch(&quot;AceptarSolicitudSalida&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Recibirbono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Verificarbono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Verbonosporcanjear&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Canjearbono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;Autorizarbono&quot;)
                                          or sessionBean.perfilViewMatch(&quot;LoteBono&quot;)}">
                                <li class="dropdown ">
                                    <a href="#" class="dropdown-toggle #{sessionBean.isActive(&quot;requisiciones&quot;)}" data-toggle="dropdown">Gesti&oacute;n de bonos<span class="caret"></span></a>
                                    <ul class="dropdown-menu" role="menu">


                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;verRequerimiento&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;requerimientosLotes&quot;)}"  value="Requerimientos de producci&oacute;n de Lote"/>
                                            </li>
                                        </c:if>

                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;SolicitudLotes&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;listasolicitudlotes&quot;)}"  value="Ordenes de ingreso de lote de bonos"/>
                                            </li>
                                        </c:if>

                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;AprobarSolicitudBono&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;PreAprobarSolicitudBono&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;GenerarSolicitudBono&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;vistaSolicitudesCasino&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;solicitudesbonos&quot;)}"  value="#{label['solicitudesbonos']}"/>
                                            </li>
                                        </c:if>


                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;Controlsalidabonos&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;ActSolicitudSalida&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;AceptarSolicitudSalida&quot;)
                                                      or sessionBean.perfilViewMatch(&quot;Verificarbono&quot;)}">
                                            <li>
                                                <h:commandLink  action="#{sessionBean.go(&quot;ControlSalidaBono&quot;)}" value="Ordenes de retiro de bonos de inventario"/>
                                            </li>
                                        </c:if>
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;Canjearbono&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;Verbonosporcanjear&quot;)}" value="Canje de bonos"/>
                                            </li>
                                        </c:if>
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;LoteBono&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;LoteBono&quot;)}" value="#{label['stockbonos']}"/>
                                            </li>
                                        </c:if>
                                    </ul>
                                </li>
                            </c:if>


                            <c:if test="#{sessionBean.perfilViewMatch(&quot;verBarajas&quot;) 
                                          or  sessionBean.perfilViewMatch(&quot;verInventarioBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;recibirOrdenBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;generarOrdenBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;aceptarOrdenBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;verSolicitudesBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;solicitasBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;entregarBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;recibirBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;destruirBarajas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;verBodegas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;crearBodegas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;actualizarBodegas&quot;)
                                          or  sessionBean.perfilViewMatch(&quot;eliminarBodega&quot;)}">
                                <li class="dropdown ">
                                    <a href="#" class="dropdown-toggle #{sessionBean.isActive(&quot;barajas&quot;)}" data-toggle="dropdown">Gesti&oacute;n de Barajas<span class="caret"></span></a>
                                    <ul class="dropdown-menu" role="menu">
                                        
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;verBarajas&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;barajas&quot;)}" value="Barajas"/>
                                            </li>
                                        </c:if>
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;verBodegas&quot;)
                                                      or  sessionBean.perfilViewMatch(&quot;crearBodegas&quot;)
                                                      or  sessionBean.perfilViewMatch(&quot;actualizarBodegas&quot;)
                                                      or  sessionBean.perfilViewMatch(&quot;eliminarBodega&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;bodegas&quot;)}" value="Lista de Depositos de Barajas en Salas"/>
                                            </li>
                                        </c:if>
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;recibirOrdenBarajas&quot;)
                                                      or  sessionBean.perfilViewMatch(&quot;generarOrdenBarajas&quot;)
                                                      or  sessionBean.perfilViewMatch(&quot;aceptarOrdenBarajas&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;ordenesComprabaraja&quot;)}" value="Requerimientos de compra de lote de barajas"/>
                                            </li>
                                        </c:if>
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;verSolicitudesBarajas&quot;)
                                                      or  sessionBean.perfilViewMatch(&quot;solicitasBarajas&quot;)
                                                      or  sessionBean.perfilViewMatch(&quot;entregarBarajas&quot;)
                                                      or  sessionBean.perfilViewMatch(&quot;recibirBarajas&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;solicitudbaraja&quot;)}" value="Solicitudes de barajas"/>
                                            </li>
                                        </c:if>
                                        <c:if test="#{sessionBean.perfilViewMatch(&quot;destruirBarajas&quot;)}">
                                            <li >
                                                <h:commandLink  action="#{sessionBean.go(&quot;destruirBarajas&quot;)}" value="Actas de destrucci&oacute;n de barajas"/>
                                            </li>
                                        </c:if>
                                    </ul>
                                </li>
                            </c:if>




                            <c:if test="#{sessionBean.perfilViewMatch(&quot;Reportes&quot;)}">
                                <li class="dropdown ">
                                    <a href="#" class="dropdown-toggle #{sessionBean.isActive(&quot;reportes&quot;)}" data-toggle="dropdown">Reportes<span class="caret"></span></a>
                                    <ul class="dropdown-menu" role="menu">

                                        <li>
                                            <h:commandLink  action="#{sessionBean.go(&quot;reportestareas&quot;)}" value="#{label['tareas']}"/>
                                        </li>
                                        <li>
                                            <h:commandLink  action="#{sessionBean.go(&quot;reporteseventos&quot;)}" value="#{label['eventos']}"/>
                                        </li>
                                        <li>
                                            <h:commandLink  action="#{sessionBean.go(&quot;reportesbonos&quot;)}" value="Reporte de Gesti&oacute;n de Bonos"/>
                                        </li>
                                        <li>
                                            <h:commandLink  action="#{sessionBean.go(&quot;reportesbonosUtilizados&quot;)}" value="Reporte de Bonos aprobados"/>
                                        </li>
                                        <li>
                                            <h:commandLink  action="#{sessionBean.go(&quot;ReporteBonosMovimientoMensual&quot;)}" value="Reporte de Gesti&oacute;n de Bonos Mensuales"/>
                                        </li>
                                    </ul>
                                </li>
                            </c:if>

                            <li>
                                <h:commandLink  action="#{sessionBean.go(&quot;cuenta&quot;)}" class="#{sessionBean.isActive(&quot;cuenta&quot;)}" value="#{label['cuentausuarios']}"/>
                            </li>
                        </ul>
                    </div><!-- /.navbar-collapse -->
                </div><!-- /.container-fluid -->
            </nav>
        </h:form>


        <div class="container-fluid">
            <div class="row">

                <div class="col-sm-12 col-md-12 main">



                    <div class="row clearfix">

                        <div id="parent_content">
                            <ui:insert name="content">Content</ui:insert>
                        </div>
                    </div>

                    <h:form>
                        <p:growl id="messages" showDetail="true" autoUpdate="true" sticky="true"/>
                    </h:form>

                </div>

            </div>

        </div>
        <hr/>

        <div class="container">    


            <div class="row-fluid">
                <div class="span12">
                    <div class="span8">
                    </div>
                    <div class="span4">
                        <div class="col-lg-4 col-md-5 col-sm-6 col-xs-12 column">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 column">


                                <span class="control-label" >#{label['copyright']}</span>
                            </div>
                        </div>

                        <div class="col-lg-8 col-md-7 col-sm-6 col-xs-12 column">
                            <h:graphicImage class="secondaryImage pull-right" value="#{resource['images/IBFLogo01.png']}" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <h:form>

            <p:idleMonitor onactive="sessionTimeOutDialog.show()" 
                           timeout="#{120000}" >
                <p:ajax event="idle" onstart="PF('sessionTimeOutDialog').show();counter=setInterval(timer, 1000);"  />
            </p:idleMonitor>
            <p:ajaxStatus onstart="PF('ajaxWaitingDialog').show()" onsuccess="PF('ajaxWaitingDialog').hide()" />
            <p:dialog id="ajaxWaitingDialog" header="Procesando..." 
                      widgetVar="ajaxWaitingDialog"
                      modal="true" closable="false" >
                <div class="panel panel-primary">

                    <div class="panel-body">
                        <i class="fa fa-circle-o-notch fa-spin fa-5x"></i>
                    </div>
                </div>


            </p:dialog>
            <p:dialog id="sessionTimeOutDialog" header="#{label['tiempo.inactividad']}" 
                      widgetVar="sessionTimeOutDialog"
                      modal="true" closable="false" width="400">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h3 class="panel-title">Sesi&oacute;n inactiva </h3><span id="timer"></span>
                    </div>
                    <div class="panel-body">
                        <h:outputText value="#{label['leyenda.inactividad']}" />
                    </div>
                    <div class="panel-footer text-right">
                        <p:commandButton value="Reanudar" onclick="PF('sessionTimeOutDialog').hide();" oncomplete="clearInterval(counter);minutos = 16;segundos = 0;" ajax="false"/>
                    </div>

                </div>


            </p:dialog>

        </h:form>

    </h:body>

</html>
